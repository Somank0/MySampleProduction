#!/bin/bash

# Variables
#FILE_LIST=("file1.root" "file2.root" "file3.root")  # List of files
FILE_LIST=('/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/2B63EDDA-93B1-3843-A1C1-B95CDC86C908.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/2B6A0BB6-A5BF-1243-AEDC-DA822D847249.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/2B6CE14D-AFF4-D445-8302-F0C038B17D3F.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/2B715B82-77F2-C148-BFDB-A86181EAAC6E.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/2BC8242B-CDFA-0441-94F7-B3FBFC982DE8.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/2C0B52FC-3FBE-E149-AE1C-36A0671E92C4.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/2CFF4DD3-3E07-DF48-B16B-C004DC3DB0BF.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/2D33BF75-4803-1C4C-87BB-2684AB644ABC.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/2D3AC6DF-6B0A-4840-873E-6697297B9E8A.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/2D8F33D6-8FD9-B34C-A401-EF9871756D7F.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/2DF7985B-3EF8-CB4C-879D-BF21544AD7C9.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/2E161579-2C04-C640-9454-907CF38D2244.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/2E179C5B-967F-374C-B4D6-8BCDE0A26EBF.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/2E42DB42-379B-0143-9210-DC6A18B88684.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/2EEF5FBE-64BE-0B41-8F92-3761672FAE30.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/2F57040D-7DBF-E94F-B145-4E2D954EDE83.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/2F5F3F84-1588-CA47-B7F1-FC368E399004.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/2F8FB0F1-9EF6-F748-A98C-8BEFC10E5219.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/300CC080-9AA8-E64B-BD05-70FD604F5F03.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/30157E75-BA6D-F446-80D1-9617F3B14F6E.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/30472370-3A02-7142-8265-56B6D2406729.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/30907402-C934-B743-9542-F2D4A256C228.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/30D8C875-5FC7-CE4E-AE85-73416FC67E61.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/31E05963-AB1B-AC46-9F9A-937C3AC173FB.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/32046045-B605-6B43-84D0-2A66BD8132B7.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/322056D5-604F-E844-942E-6B0455317867.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/32291299-0156-4046-BC39-ACEA929D585E.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/324F9824-A59F-C24B-91F2-24F2B1088C92.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/329254A0-FCB9-2347-897C-C73D3D5080C0.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/32A4A1CD-C93A-0D40-86A4-DB8A9943A3E6.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/32BC2091-FAFA-8747-A869-A81A116FE51A.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/32F02511-6406-1540-9520-ECEB7CCB5D53.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/3304FD74-7455-2C47-B340-1BFE8341AEDB.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/3366BAA1-6371-7C49-ACC8-DA3B77074D27.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/3381E424-BD08-E94A-A60F-7E80E09C19C4.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/33CE18E7-256A-B34D-8F36-E534D10B7140.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/33E6896F-0D77-9A41-8BF4-8523FFD284E4.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/33EE184A-087E-8E4E-A311-CC68F3DB64DF.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/33F9CFB4-2CB7-9A45-99A0-9A681A5ECFA2.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/342BC7DA-9AA4-2E44-A75E-3C297B7F811F.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/3479019D-A601-E84F-98D5-E0ABBCBD07FF.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/34A98A78-787B-E743-B005-7A124E685097.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/34E1CF18-05AF-3542-B3A6-D079F8E6F53E.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/355BBCDF-87DF-6848-9457-E2F74FA9853B.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/358103D1-2146-5640-85E1-81543B77A541.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/361AC3E6-13F0-864C-9240-44F978B1C452.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/363BEC17-DC83-B149-AC01-E6DC4C2340B0.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/36916B40-577B-3048-81B4-120B2F4E5C61.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/37A176D5-C394-A249-AAFC-E7A8EF6068DF.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/37AB7164-8A99-3D4E-AE6D-4F460190EE00.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/37B73EB7-1D9C-5241-B243-8454574A8E61.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/37D6AF56-BE86-294E-B322-BAD01462BF1D.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/37DF0724-AC63-394A-B26F-23EB3512F9BE.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/37EC1E49-09FA-8041-936F-1CE113A2B4DB.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/380FC28E-4A71-9A4C-B50B-1E139F122214.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/38620329-21F7-1748-AE48-74436FBAF484.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/38B34F13-73BB-1C48-97D9-44A7DD554032.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/38E8732F-D690-F645-BAC3-D06F5815B4D4.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/39352E4D-2CD1-A346-969B-AFC63C46D405.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/398EF392-7CCC-7841-AED7-0384F0DEC63F.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/39B1B738-FAE1-0244-AC17-8BDD4E137956.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/39D613DA-D08F-E94A-9160-21EE478A6E10.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/39E93063-C572-4848-AC89-E6A7346B9900.root'  '/store/mc/RunIISummer20ULPrePremix/Neutrino_E-10_gun/PREMIX/UL18_106X_upgrade2018_realistic_v11_L1v1-v2/230002/3AA6223A-2109-DA4E-9AA5-54D4C37EA494.root')
SCOPE="cms"                                # Replace with your scope
DEST_RSE="T2_DE_RWTH"                               # Replace with your destination RSE
LIFETIME="15780000"                                       # Set lifetime in seconds if needed (optional)

# Loop through each file in the list
for FILE_NAME in "${FILE_LIST[@]}"; do
    # Construct the DID (Data Identifier)
    DID="${SCOPE}:${FILE_NAME}"

    # Create the Rucio rule
    if [ -z "$LIFETIME" ]; then
        rucio add-rule $DID 1 $DEST_RSE --lifetime 15780000 --grouping 'ALL' --ask-approval --activity 'User AutoApprove'
    else
        rucio add-rule $DID 1 $DEST_RSE --lifetime $LIFETIME --grouping 'ALL' --ask-approval --activity 'User AutoApprove'
    fi

    # Check if the rule creation succeeded
    if [ $? -eq 0 ]; then
        echo "Rule created for $DID."
    else
        echo "Failed to create rule for $DID."
    fi
done

